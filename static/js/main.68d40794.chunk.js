(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(79)},40:function(e,t,a){},41:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(13),r=a.n(i),o=(a(40),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function c(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(41);var l=a(21),u=a(32),m=a(7),d=a(8),p=a(10),h=a(9),f=a(11);function g(){return s.a.createElement("div",{className:"header"},s.a.createElement("h1",{className:"header-title"}," Chicago Graffiti Service Requests Visualization"),s.a.createElement("p",{className:"header-subtitle"}," Search Graffiti Work Requests in Chicago"))}function v(e){return s.a.createElement("div",{className:"card",style:{width:"18rem"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("h3",{className:"card-title"},e.listing.street_address),s.a.createElement("h5",{className:"card-subtitle mb-2 text-muted"},"Request #: ",e.listing.service_request_number),s.a.createElement("h5",{className:"card-subtitle mb-2 text-muted"},"Status: ",e.listing.status),s.a.createElement("h5",{className:"card-subtitle mb-2 text-muted"},"Created: ",e.listing.creation_date),e.listing.completion_date&&s.a.createElement("h5",{className:"card-subtitle mb-2 text-muted"},"Completed: ",e.listing.completion_date),s.a.createElement("h5",{className:"card-subtitle mb-2 text-muted"},"Graffiti Location: ",e.listing.where_is_the_graffiti_located_),s.a.createElement("h5",{className:"card-subtitle mb-2 text-muted"},"Graffiti Surface: ",e.listing.what_type_of_surface_is_the_graffiti_on_)))}var b=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"cardlist"},this.props.listings.map(function(e,t){return void 0===e.latitude?0===t?s.a.createElement("h2",{className:"prompt"}," Enter a search query to populate this list!"):void 0:s.a.createElement(v,{listing:e,key:t})}))}}]),t}(n.Component),E=a(80),w=a(82),k=a(33),y=a(81);function N(){return s.a.createElement("div",{className:"nav"},s.a.createElement(y.a,{exact:!0,className:"nav-link",activeClassName:"nav-link--active",to:"/"}," Search"),s.a.createElement(y.a,{exact:!0,className:"nav-link",activeClassName:"nav-link--active",to:"/map"}," Map "),s.a.createElement(y.a,{exact:!0,className:"nav-link",activeClassName:"nav-link--active",to:"/list"}," List "),s.a.createElement(y.a,{exact:!0,className:"nav-link",activeClassName:"nav-link--active",to:"/info"}," App Info "))}function _(e){return s.a.createElement("div",{className:"container"},s.a.createElement("form",{onSubmit:e.onSubmit,className:"form "},s.a.createElement("h2",{className:"form-title"},"Enter a search Query"),s.a.createElement("h4",{className:"form-label"}," Ward #"),s.a.createElement("input",{name:"ward",min:"0",max:"50",className:"textbox",type:"number"}),s.a.createElement("h4",{className:"form-label"}," Status "),s.a.createElement("select",{name:"status",className:"custom-select custom-select-lg mb-3"},e.statuses.map(function(e){return s.a.createElement("option",{key:e},e)})),s.a.createElement("button",{className:"button"},"Submit Search")),s.a.createElement("div",{className:"alert alert-success",role:"alert",style:{display:""===e.queryResults?"none":""}},e.queryResults))}var C=a(6),S=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},a.onMarkerClick=function(e,t,n){a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onClose=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;console.log("----"),console.log(this.props.listings[0]),console.log("----");var t=41.8727647,a=-87.6566319,n=10;if(void 0!==this.props.listings[0]){var i=this.props.listings[0];void 0!==i.latitude&&(t=i.latitude,a=i.longitude,n=12)}return s.a.createElement(C.Map,{google:this.props.google,zoom:n,className:"map",initialCenter:{lat:t,lng:a}},this.props.listings.map(function(t,a){var n="Address:"+t.street_address+"+Request #: "+t.service_request_number+"+Status: "+t.status+"+Location: "+t.where_is_the_graffiti_located_+"+Surface: "+t.what_type_of_surface_is_the_graffiti_on_+"+Date Created: "+t.creation_date;t.completion_date&&(n+="+Completion Date: "+t.completion_date);var i="Completed"===t.status||"Completed - Dup"===t.status?"http://maps.google.com/mapfiles/ms/icons/green-dot.png":"http://maps.google.com/mapfiles/ms/icons/red-dot.png";return s.a.createElement(C.Marker,{icon:{url:i},key:a,onClick:e.onMarkerClick,name:n,position:{lat:t.latitude,lng:t.longitude}})}),s.a.createElement(C.Marker,{onClick:this.onMarkerClick,title:"The marker`s title will appear as a tooltip.",name:"SOMA",position:{lat:37.778519,lng:-122.40564}}),s.a.createElement(C.Marker,{onClick:this.onMarkerClick,name:"Dolores park",position:{lat:37.759703,lng:-122.428093}}),s.a.createElement(C.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},s.a.createElement("div",null,this.state.selectedPlace.name&&this.state.selectedPlace.name.split("+").map(function(e,t){return s.a.createElement("h4",{key:t}," ",e," ")}))))}}]),t}(s.a.Component),j=Object(C.GoogleApiWrapper)({apiKey:"AIzaSyAoD1ugx6gtXD_RUD-EIMtge1jfBaIDvSE"})(S),x=a(20),O=a.n(x);function A(){return s.a.createElement("div",{className:"container information"},s.a.createElement("h2",{className:"info-title"},"This application was developed by Alex Chomiak"),s.a.createElement("h3",{className:"info-subtitle"},"It was created using React and the react-google-maps library"),s.a.createElement("h3",null,s.a.createElement("a",{className:"info-link",href:"https://github.com/alexchomiak/it202-project2"}," Link to the Github Repo")))}var I=a(31),M=a.n(I)()({basename:"/it202-project2"}),R=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).state={listings:[],statuses:["All","Open","Completed"],status:"All",ward:-1,queryResults:""},a.loadInitialValues=function(){O.a.get("https://data.cityofchicago.org/resource/cdmx-wzbz.json?$SELECT=DISTINCT%20status").then(function(e){e.data.forEach(function(e){a.state.statuses.includes(e.status)||a.setState({statuses:[].concat(Object(u.a)(a.state.statuses),[e.status])})}),a.setState({listings:e.data})})},a.onSubmit=function(e){e.preventDefault();var t=-1;""!==e.target.ward.value&&(t=e.target.ward.value);var n={};"All"!==e.target.status.value&&(n=Object(l.a)({},n,{status:e.target.status.value})),-1!==t&&(n=Object(l.a)({},n,{ward:t})),O.a.get("https://data.cityofchicago.org/resource/cdmx-wzbz.json",{params:n}).then(function(e){console.log(e.data),a.setState({queryResults:"Your query returned "+e.data.length+" results.",listings:e.data})})},a.setStatus=function(e){a.setState({status:e})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadInitialValues()}},{key:"render",value:function(){var e=this;return s.a.createElement(E.a,{history:M,basename:"/it202-project2"},s.a.createElement("div",{className:"app-container"},s.a.createElement(g,null),s.a.createElement(N,null),s.a.createElement(w.a,null,s.a.createElement(k.a,{exact:!0,path:"/info",component:A}),s.a.createElement(k.a,{exact:!0,path:"/map",component:function(){return s.a.createElement(j,{listings:e.state.listings})}}),s.a.createElement(k.a,{exact:!0,path:"/list",component:function(){return s.a.createElement(b,{listings:e.state.listings})}}),s.a.createElement(k.a,{exact:!0,path:"/",component:function(){return s.a.createElement(_,{queryResults:e.state.queryResults,statuses:e.state.statuses,status:e.status,setStatus:e.setStatus,onSubmit:e.onSubmit})}}))))}}]),t}(n.Component);r.a.render(s.a.createElement(R,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/it202-project2",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/it202-project2","/service-worker.js");o?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):c(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):c(t,e)})}}()}},[[35,1,2]]]);